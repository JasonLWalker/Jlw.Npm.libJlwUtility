/* Jlw Utility Library 1.2.11
* Â©2012-2023 Jason L Walker 
* Build time: 06-13-2023 18:40:27
*/
function libJlwUtility(a,e){var t,o,i,n,r={Success:"0",Warning:"1",Info:"2",Danger:"3",Alert:"4",Redirect:"5"},s=(a=a||{}).this||this;function l(e){var a=(e||"").replace(/^.*[/]([^/]*\.(?:min)?\.css).*$/i,"$1"),t=a||"",a=a||"";return e&&"string"==typeof e?(t.includes(".min.css")||(t=t.replace(".css",".min.css")),a.includes(".min.css")&&(a=a.replace(".min.css",".css")),0<s.jQuery('link[href*="'+t+'"]').length||0<s.jQuery('link[href*="'+a+'"]').length||s.jQuery("head").append(s.jQuery('<link rel="stylesheet" type="text/css" />').attr("href",e)),s.jQuery.Deferred().resolve()):s.jQuery.Deferred().fail()}function c(e,a,t){return e?s.jQuery.Deferred().resolve:"string"==typeof a?(e=s.jQuery.extend(t||{cache:!0},{url:a,dataType:"script"}),s.jQuery.ajax(e)):s.jQuery.Deferred().fail()}function d(e,a){return a=a||"000000000",e=(e=e||"").trim(),a.substring(0,a.length-e.length)+e}function u(e,a){var t="";a=a||"YYYY-MM-DD";try{t=e?window.moment(e).format(a):""}catch(e){}return t}function p(e){var e=s.jQuery("input, select, textarea",e),a=(e.each(function(e,a){a=s.jQuery(a);a.data("jlwIsDisabled",a.prop("disabled")),a.attr("disabled",!1)}),e.serializeArray()),t={};return s.jQuery(a).each(function(e,a){t[a.name]&&s.serializeMultipleFieldCallback?(s.jQuery.isArray(t[a.name])||(t[a.name]=[t[a.name]]),t[a.name].push(a.value)):t[a.name]=a.value}),"function"==typeof s.serializeMultipleFieldCallback&&s.serializeMultipleFieldCallback(a,t),e.each(function(e,a){a=s.jQuery(a);a.prop("disabled",a.data("jlwIsDisabled"))}),t}function y(e,n){s.jQuery(e).each(function(e,a){if(s.jQuery.isArray(n[a.name])){var t=n[a.name],o=a.name;n[o]="";for(var i=0;i<t.length;i++)n[o]+=(n[o]?",":"")+t[i]}})}function f(t){var o=-999;return s.jQuery("*").each(function(){var e=s.jQuery(this),a=parseInt(e.css("z-index"),10);a&&o<a&&e!=t&&(o=a)}),o}function w(e){var a=s.getHighestZIndex(e);try{e&&(e.data("bs.modal")._backdrop.css("z-index",a+1),e.css("z-index",a+2))}catch(e){}}function g(e){var a;s.jQuery&&s.jQuery.fn&&s.jQuery.fn.modal&&(null==e&&(e=s.language.pleaseWait),s.jQuery(".h4>span",s.pleaseWaitDiv).html(e),s.jQuery("button.btn-close",s.pleaseWaitDiv).off().on("click",function(){s.hidePleaseWait()}),(a=s.pleaseWaitDiv.appendTo("body")).off("hidden.bs.modal").on("hidden.bs.modal",function(){s.jQuery(".modal.jlwPleaseWait").remove()}),a.off("shown.bs.modal").on("shown.bs.modal",function(){s.setModalOnTop(a)}),window.setTimeout(function(){a.modal("show")},10))}function b(){var e;s.jQuery&&s.jQuery.fn&&s.jQuery.fn.modal&&((e=s.jQuery(".jlwPleaseWait")).off("shown.bs.modal").on("shown.bs.modal",function(){e.modal("hide")}),e.modal("hide"))}function m(e,a,t,o){function i(e,a,t){window.bootbox?window.bootbox.alert({title:e,message:a,callback:function(){t&&window.location.replace(t)}}):(window.alert(a),t&&window.location.replace(t))}switch(t=(t=null==t?"info":t).toString().toLowerCase()){case"success":window.toastr&&window.toastr.success(a,e);break;case"info":window.toastr&&window.toastr.info(a,e);break;case"warning":case"danger":window.toastr&&window.toastr.warning(a,e);break;case"redirect":s.hidePleaseWait(),i(a,e);break;case"alert":s.hidePleaseWait(),i(a,e,o)}o&&"alert"!=t&&window.setTimeout(function(){window.location.replace(o)},1500)}function h(e,a,t){if(t&&401===t.status&&t.getResponseHeader){t=t.getResponseHeader("location");if(t)return t=t.replace(/ReturnUrl=[\w\W]*$/i,"ReturnUrl="+encodeURIComponent(window.location.pathname)),o(s.language.notAuthorizedTitle,s.language.notAuthorized,t),!1}if(e&&(e.ExceptionType||e.Message)){if(e.ExceptionType)switch(e.ExceptionType.toLowerCase()){case"invalidloginexception":return s.hidePleaseWait(),o(s.language.notAuthorizedTitle,s.language.notAuthorized,s.baseUrl),!0;case"invalidtokenexception":return s.hidePleaseWait(),o(e.Message,e.ExceptionMessage,s.baseUrl),!0;case"statusfailexception":case"statusinvalidinputexception":case"system.exception":case"system.data.sqlclient.sqlexception":return s.hidePleaseWait(),window.toastr&&window.toastr.error(e.ExceptionMessage,e.Message),!0;default:e.Title=e.Message,e.Message=e.ExceptionMessage}if(null!=e.MessageType&&e.MessageType.toString())switch(e.MessageType.toString().toLowerCase()){case"success":case s.messageTypes.Success:window.toastr&&window.toastr.success(e.Message,e.Title);break;case"info":case s.messageTypes.Info:window.toastr&&window.toastr.info(e.Message,e.Title);break;case"warning":case s.messageTypes.Warning:window.toastr&&window.toastr.warning(e.Message,e.Title);break;case"danger":case s.messageTypes.Danger:window.toastr&&window.toastr.error(e.Message,e.Title);break;case"redirect":case s.messageTypes.Redirect:s.hidePleaseWait(),o(e.Title,e.Message,e.RedirectUrl);break;case"alert":case s.messageTypes.Alert:s.hidePleaseWait(),o(e.Title,e.Message)}}return!1;function o(e,a,t){window.bootbox?(e=window.bootbox.alert({title:e,message:a,callback:function(){t&&window.location.replace(t)}}),s.setModalOnTop(e)):(window.alert(a),t&&window.location.replace(t))}}function j(e,a,t){var o=null,o=new RegExp("application/json","i").test(e.getResponseHeader("content-type"))?s.jQuery.parseJSON(e.responseText):{Message:e.status+" - "+a+": "+t,MessageType:s.messageTypes.Danger,Title:s.language.error};s.checkAjaxMessage(o,a,e),s.hidePleaseWait()}function v(e,a,o,t){function i(e,a,t){s.checkAjaxMessage(e)||"function"==typeof o&&o(e,a,t)}return"function"!=typeof t&&(t=j),e=e+(-1===e.indexOf("?")?"?":"&")+"__="+Number(new Date),(a?s.jQuery.ajax({url:e,type:"GET",contentType:"application/json",data:JSON.stringify(a),cache:!1}):s.jQuery.getJSON(e)).done(i).fail(t)}function T(e,a,o,t){function i(e,a,t){s.checkAjaxMessage(e)||"function"==typeof o&&o(e,a,t)}return void 0===t&&(t=j),e=e+(-1===e.indexOf("?")?"?":"&")+"__="+Number(new Date),(a?s.jQuery.ajax({url:e,type:"POST",contentType:"application/json",data:JSON.stringify(a),cache:!1}):s.jQuery.ajax({url:e,type:"POST",contentType:"application/json",cache:!1})).done(i).fail(t)}function Q(t,o){var i=null;return function(){var e=this,a=arguments;clearTimeout(i),i=setTimeout(function(){t.apply(e,a)},o)}}function x(e,a){var t,o=[],i="",o=s.jQuery("input:not([type=radio])",a).val("");for(t in o=s.jQuery("select",a).val(""),o=s.jQuery("textarea",a).val(""),o=s.jQuery("input[type=checkbox]",a).val("1").prop("checked",!1),e)(o=(o=(o=s.jQuery("input[name="+t+"]",a))[0]?o:s.jQuery("select[name="+t+"]",a))[0]?o:s.jQuery("textarea[name="+t+"]",a))[0]&&("checkbox"==o.prop("type")?(o.prop("checked",e[t]),o.data("origValue",o.val())):"radio"==o.prop("type")?(i=e[t]?e[t].toString():"",o.each(function(e,a){a=s.jQuery(a);a.prop("checked",a.val()==i)})):(i=e[t]?e[t].toString():"",o.val(i.trim()),o.data("origValue",o.val())))}function k(e){s.jQuery(e).each(function(e,a){try{var t=s.jQuery(a).prop("id");s.jQuery("#"+t).DataTable().draw(s.redrawDataTableType)}catch(e){}})}return s.jQuery=e||window.jQuery,s.fireCallback=s.fireCallback||function(e){"function"==typeof e&&e()},o=e=function(){var e=a.libPaths||{};s.get=v,s.post=T,s.checkAjaxMessage=h,s.showPleaseWait=g,s.hidePleaseWait=b,s.baseUrl="",t=s.jQuery('<div class="modal fade jlwPleaseWait" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog"><div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-body"><div class="text-center"><button type="button" class="btn-close float-end" data-bs-dismiss="modal" aria-label="Close"></button><div class="h4"><span></span><div class="progress"><div class="progress-bar progress-bar-striped progress-bar-info progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div></div></div></div></div></div></div>'),s.pleaseWaitDiv=t,s.language={pleaseWait:"Processing...",notAuthorizedTitle:"Not Logged In",notAuthorized:"Either you have not completely logged in or your session has expired. Please log in and try again.",error:"An error has occurred"},s.debounce=s.debounce||Q,s.populateFormData=s.populateFormData||x,s.setModalOnTop=s.setModalOnTop||w,s.serializeFormToJson=s.serializeFormToJson||p,s.messageTypes=s.messageTypes||r,s.formatDateString=s.formatDateString||u,s.zeroPad=s.zeroPad||d,s.redrawDataTableType=s.redrawDataTableType||"full-hold",s.redrawDataTable=s.redrawDataTable||k,s.showNotification=s.showNotification||m,s.lazyLoadLibrary=s.lazyLoadLibrary||c,s.lazyLoadStyle=s.lazyLoadStyle||l,s.getHighestZIndex=s.getHighestZIndex||f,s.serializeMultipleFieldCallback=s.serializeMultipleFieldCallback||y,s.promiseInitBootstrap=s.lazyLoadLibrary(window.bootstrap&&window.bootstrap.Modal,e.Bootstrap),s.promiseInitFontAwesome=s.lazyLoadLibrary(window.FontAwesome,e.FontAwesome),s.promiseInitBootbox=s.lazyLoadLibrary(window.bootbox,e.Bootbox),s.promiseInitToastr=s.lazyLoadLibrary(window.toastr,e.Toastr),s.fireCallback(s.init),s.fireCallback(a.fnInit)},e=a.libPaths||{},void 0===s.jQuery&&e.jQuery?(i=document.getElementsByTagName("head")[0],(n=document.createElement("script")).type="text/javascript",n.src=e.jQuery,n.onload=function(){s.jQuery=window.jQuery,s.promiseInitJquery=s.jQuery.Deferred().resolve(),s.fireCallback(o)},i.appendChild(n)):(void 0!==s.jQuery&&(s.promiseInitJquery=s.jQuery.Deferred().resolve()),s.fireCallback(o)),s}
