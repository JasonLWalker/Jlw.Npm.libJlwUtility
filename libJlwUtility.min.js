function libJlwUtility(n,t){function e(){var u=n.libPaths||{},e;i.get=g;i.post=nt;i.checkAjaxMessage=d;i.showPleaseWait=b;i.hidePleaseWait=r;_$pleaseWaitDiv=t('<div class="modal fade jlwPleaseWait" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog"><div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-body"><div class="text-center"><button type="button" class="btn-close " data-bs-dismiss="modal" aria-label="Close"><\/button><div class="h4"><span>Processing... <\/span><div class="progress"><div class="progress-bar progress-bar-striped progress-bar-info progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%"><\/div><\/div><\/div><\/div><\/div><\/div><\/div><\/div>');i.pleaseWaitDiv=_$pleaseWaitDiv;i.debounce=i.debounce||tt;i.populateFormData=i.populateFormData||it;i.setModalOnTop=i.setModalOnTop||w;i.serializeFormToJson=i.serializeFormToJson||v;i.messageTypes=i.messageTypes||f;i.formatDateString=i.formatDateString||a;i.zeroPad=i.zeroPad||l;i.redrawDataTableType=i.redrawDataTableType||"full-hold";i.redrawDataTable=i.redrawDataTable||rt;i.showNotification=i.showNotification||k;i.lazyLoadLibrary=i.lazyLoadLibrary||s;i.getHighestZIndex=i.getHighestZIndex||p;i.serializeMultipleFieldCallback=i.serializeMultipleFieldCallback||y;e=window.bootstrap&&window.bootstrap.modal;i.promiseInitBootstrap=i.lazyLoadLibrary(e,u.Bootstrap);i.promiseInitFontAwesome=i.lazyLoadLibrary(window.FontAwesome,u.FontAwesome);i.promiseInitBootstrap=i.lazyLoadLibrary(window.bootbox,u.Bootbox);i.promiseInitToastr=i.lazyLoadLibrary(window.toastr,u.Toastr);i.fireCallback(i.init);i.fireCallback(n.fnInit)}function o(r){var f=n.libPaths||{},e,u;typeof t=="undefined"&&f.jQuery?(e=document.getElementsByTagName("head")[0],u=document.createElement("script"),u.type="text/javascript",u.src=f.jQuery,u.onload=function(){i.promiseInitJquery=t.Deferred().resolve();i.fireCallback(r)},e.appendChild(u)):(typeof t!="undefined"&&(i.promiseInitJquery=t.Deferred().resolve()),i.fireCallback(r))}function s(n,i){return n?t.Deferred().resolve:typeof i=="string"?t.getScript(i):t.Deferred().fail()}function h(n){typeof n=="function"&&n()}function c(n){o(n)}function l(n,t){return t||(t="000000000"),n||(n=""),n=n.trim(),t.substring(0,t.length-n.length)+n}function a(n,t){var i="";t||(t="YYYY-MM-DD");try{i=n?moment(n).format(t):""}catch(r){}return i}function v(n){var u=t("input, select, textarea",n),f,r;return u.each(function(n,i){var r=t(i);r.data("jlwIsDisabled",r.prop("disabled"));r.attr("disabled",!1)}),f=u.serializeArray(),r={},t(f).each(function(n,u){r[u.name]&&i.serializeMultipleFieldCallback?(t.isArray(r[u.name])||(r[u.name]=[r[u.name]]),r[u.name].push(u.value)):r[u.name]=u.value}),typeof i.serializeMultipleFieldCallback=="function"&&i.serializeMultipleFieldCallback(f,r),u.each(function(n,i){var r=t(i);r.prop("disabled",r.data("jlwIsDisabled"))}),r}function y(n,i){t(n).each(function(n,r){var e,u,f;if(t.isArray(i[r.name]))for(e=i[r.name],u=r.name,i[u]="",f=0;f<e.length;f++)i[u]+=(i[u]?",":"")+e[f]})}function p(n){var i=-999;return t("*").each(function(){var u=t(this),r=parseInt(u.css("z-index"),10);r&&i<r&&u!=n&&(i=r)}),i}function w(n){var t=i.getHighestZIndex(n);try{n&&(n.data("bs.modal")._backdrop.css("z-index",t+1),n.css("z-index",t+2))}catch(r){}}function b(n){n==null&&(n="Processing...");t(".h4>span",i.pleaseWaitDiv).html(n);t("button.btn-close",i.pleaseWaitDiv).off().on("click",function(){i.hidePleaseWait()});var r=i.pleaseWaitDiv.appendTo("body").modal("show");r.off("hidden.bs.modal").on("hidden.bs.modal",function(){window.setTimeout(function(){t(".jlwPleaseWait").remove()},10)});i.setModalOnTop(r)}function r(){window.setTimeout(function(){t(".jlwPleaseWait")[0]&&r()},10);t(".jlwPleaseWait").modal("hide")}function k(n,t,r,u){function f(n,t,i){window.bootbox?bootbox.alert({title:n,message:t,callback:function(){i&&window.location.replace(i)}}):(window.alert(t),i&&window.location.replace(i))}r==null&&(r="info");r=r.toString().toLowerCase();switch(r){case"success":toastr.success(t,n);break;case"info":toastr.info(t,n);break;case"warning":toastr.warning(t,n);break;case"danger":toastr.warning(t,n);break;case"redirect":i.hidePleaseWait();f(t,n);break;case"alert":i.hidePleaseWait();f(t,n,u)}u&&r!="alert"&&window.setTimeout(function(){window.location.replace(u)},1500)}function d(n,t,r){function u(n,t,r){if(window.bootbox){var u=bootbox.alert({title:n,message:t,callback:function(){r&&window.location.replace(r)}});i.setModalOnTop(u)}else window.alert(t),r&&window.location.replace(r)}if(r&&r.status===401&&r.getResponseHeader){var f=r.getResponseHeader("location");if(f)return f=f.replace(/ReturnUrl=[\w\W]*$/i,"ReturnUrl="+encodeURIComponent(window.location.pathname)),u("Not Logged In","Either you have not completely logged in or your session has expired. Please log in and try again.",f),!1}if(!n||!n.ExceptionType&&!n.Message)return!1;if(n.ExceptionType)switch(n.ExceptionType.toLowerCase()){case"invalidloginexception":return i.hidePleaseWait(),u("Not Logged In","Either you have not completely logged in or your session has expired. Please log in and try again.",baseUrl),!0;case"invalidtokenexception":return i.hidePleaseWait(),u(n.Message,n.ExceptionMessage,baseUrl),!0;case"statusfailexception":case"statusinvalidinputexception":case"system.exception":case"system.data.sqlclient.sqlexception":return i.hidePleaseWait(),toastr.error(n.ExceptionMessage,n.Message),!0;default:n.Title=n.Message;n.Message=n.ExceptionMessage}if(n.MessageType!=null&&n.MessageType.toString())switch(n.MessageType.toString().toLowerCase()){case"success":case i.messageTypes.Success:toastr.success(n.Message,n.Title);break;case"info":case i.messageTypes.Info:toastr.info(n.Message,n.Title);break;case"warning":case i.messageTypes.Warning:toastr.warning(n.Message,n.Title);break;case"danger":case i.messageTypes.Danger:toastr.error(n.Message,n.Title);break;case"redirect":case i.messageTypes.Redirect:i.hidePleaseWait();u(n.Title,n.Message,n.RedirectUrl);break;case"alert":case i.messageTypes.Alert:i.hidePleaseWait();u(n.Title,n.Message)}return!1}function u(n,r,u){var f=null,e=new RegExp("application/json","i");f=e.test(n.getResponseHeader("content-type"))?t.parseJSON(n.responseText):{Message:n.status+" - "+r+": "+u,MessageType:i.messageTypes.Danger,Title:"An error has occurred"};i.checkAjaxMessage(f,r,n);i.hidePleaseWait()}function g(n,r,f,e){function o(n,t,r){i.checkAjaxMessage(n)||typeof f=="function"&&f(n,t,r)}return typeof e!="function"&&(e=u),n=n+(-1===n.indexOf("?")?"?":"&")+"__="+Number(new Date),r?t.ajax({url:n,type:"GET",contentType:"application/json",data:JSON.stringify(r),cache:!1}).done(o).fail(e):t.getJSON(n).done(o).fail(e)}function nt(n,r,f,e){function o(n,t,r){i.checkAjaxMessage(n)||typeof f=="function"&&f(n,t,r)}return typeof e=="undefined"&&(e=u),n=n+(-1===n.indexOf("?")?"?":"&")+"__="+Number(new Date),r?t.ajax({url:n,type:"POST",contentType:"application/json",data:JSON.stringify(r),cache:!1}).done(o).fail(e):t.ajax({url:n,type:"POST",contentType:"application/json",cache:!1}).done(o).fail(e)}function tt(n,t){var i=null;return function(){var r=this,u=arguments;clearTimeout(i);i=setTimeout(function(){n.apply(r,u)},t)}}function it(n,i){var r=[],f="",u;r=t("input:not([type=radio])",i).val("");r=t("select",i).val("");r=t("textarea",i).val("");r=t("input[type=checkbox]",i).val("1").prop("checked",!1);for(u in n)r=t("input[name="+u+"]",i),r[0]||(r=t("select[name="+u+"]",i)),r[0]||(r=t("textarea[name="+u+"]",i)),r[0]&&(r.prop("type")=="checkbox"?(r.prop("checked",n[u]),r.data("origValue",r.val())):r.prop("type")=="radio"?(f=n[u]?n[u].toString():"",r.each(function(n,i){var r=t(i);r.prop("checked",r.val()==f)})):(f=n[u]?n[u].toString():"",r.val(f.trim()),r.data("origValue",r.val())))}function rt(n){t(n).each(function(n,r){try{var u=t(r).prop("id"),f=t("#"+u).DataTable();f.draw(i.redrawDataTableType)}catch(e){}})}var f={Success:"0",Warning:"1",Info:"2",Danger:"3",Alert:"4",Redirect:"5"},i;return n=n||{},i=n.this||this,t=t||window.jQuery,i.fireCallback=i.fireCallback||h,c(e),i}