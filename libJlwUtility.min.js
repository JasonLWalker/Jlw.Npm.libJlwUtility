/* Jlw Utility Library 1.1.12
* Â©2012-2023 Jason L Walker 
* Build time: 04-28-2023 16:41:56
*/
function libJlwUtility(t,s){var e,a,i,o,n={Success:"0",Warning:"1",Info:"2",Danger:"3",Alert:"4",Redirect:"5"},r=(t=t||{}).this||this;function l(e,a){return e?s.Deferred().resolve:"string"==typeof a?s.getScript(a):s.Deferred().fail()}function c(e,a){return a=a||"000000000",e=(e=e||"").trim(),a.substring(0,a.length-e.length)+e}function d(e,a){var t="";a=a||"YYYY-MM-DD";try{t=e?moment(e).format(a):""}catch(e){}return t}function p(e){var e=s("input, select, textarea",e),a=(e.each(function(e,a){a=s(a);a.data("jlwIsDisabled",a.prop("disabled")),a.attr("disabled",!1)}),e.serializeArray()),t={};return s(a).each(function(e,a){t[a.name]&&r.serializeMultipleFieldCallback?(s.isArray(t[a.name])||(t[a.name]=[t[a.name]]),t[a.name].push(a.value)):t[a.name]=a.value}),"function"==typeof r.serializeMultipleFieldCallback&&r.serializeMultipleFieldCallback(a,t),e.each(function(e,a){a=s(a);a.prop("disabled",a.data("jlwIsDisabled"))}),t}function u(e,n){s(e).each(function(e,a){if(s.isArray(n[a.name])){var t=n[a.name],i=a.name;n[i]="";for(var o=0;o<t.length;o++)n[i]+=(n[i]?",":"")+t[o]}})}function g(t){var i=-999;return s("*").each(function(){var e=s(this),a=parseInt(e.css("z-index"),10);a&&i<a&&e!=t&&(i=a)}),i}function f(e){var a=r.getHighestZIndex(e);try{e&&(e.data("bs.modal")._backdrop.css("z-index",a+1),e.css("z-index",a+2))}catch(e){}}function b(e){null==e&&(e=r.language.pleaseWait),s(".h4>span",r.pleaseWaitDiv).html(e),s("button.btn-close",r.pleaseWaitDiv).off().on("click",function(){r.hidePleaseWait()});e=r.pleaseWaitDiv.appendTo("body").modal("show");e.off("hidden.bs.modal").on("hidden.bs.modal",function(e){window.setTimeout(function(){s(".jlwPleaseWait").remove()},10)}),r.setModalOnTop(e)}function m(){window.setTimeout(function(){s(".jlwPleaseWait")[0]&&m()},10),s(".jlwPleaseWait").modal("hide")}function y(e,a,t,i){function o(e,a,t){window.bootbox?bootbox.alert({title:e,message:a,callback:function(){t&&window.location.replace(t)}}):(window.alert(a),t&&window.location.replace(t))}switch(t=(t=null==t?"info":t).toString().toLowerCase()){case"success":toastr.success(a,e);break;case"info":toastr.info(a,e);break;case"warning":case"danger":toastr.warning(a,e);break;case"redirect":r.hidePleaseWait(),o(a,e);break;case"alert":r.hidePleaseWait(),o(a,e,i)}i&&"alert"!=t&&window.setTimeout(function(){window.location.replace(i)},1500)}function w(e,a,t){if(t&&401===t.status&&t.getResponseHeader){t=t.getResponseHeader("location");if(t)return t=t.replace(/ReturnUrl=[\w\W]*$/i,"ReturnUrl="+encodeURIComponent(window.location.pathname)),i(r.language.notAuthorizedTitle,r.language.notAuthorized,t),!1}if(e&&(e.ExceptionType||e.Message)){if(e.ExceptionType)switch(e.ExceptionType.toLowerCase()){case"invalidloginexception":return r.hidePleaseWait(),i(r.language.notAuthorizedTitle,r.language.notAuthorized,baseUrl),!0;case"invalidtokenexception":return r.hidePleaseWait(),i(e.Message,e.ExceptionMessage,baseUrl),!0;case"statusfailexception":case"statusinvalidinputexception":case"system.exception":case"system.data.sqlclient.sqlexception":return r.hidePleaseWait(),toastr.error(e.ExceptionMessage,e.Message),!0;default:e.Title=e.Message,e.Message=e.ExceptionMessage}if(null!=e.MessageType&&e.MessageType.toString())switch(e.MessageType.toString().toLowerCase()){case"success":case r.messageTypes.Success:toastr.success(e.Message,e.Title);break;case"info":case r.messageTypes.Info:toastr.info(e.Message,e.Title);break;case"warning":case r.messageTypes.Warning:toastr.warning(e.Message,e.Title);break;case"danger":case r.messageTypes.Danger:toastr.error(e.Message,e.Title);break;case"redirect":case r.messageTypes.Redirect:r.hidePleaseWait(),i(e.Title,e.Message,e.RedirectUrl);break;case"alert":case r.messageTypes.Alert:r.hidePleaseWait(),i(e.Title,e.Message)}}return!1;function i(e,a,t){window.bootbox?(e=bootbox.alert({title:e,message:a,callback:function(){t&&window.location.replace(t)}}),r.setModalOnTop(e)):(window.alert(a),t&&window.location.replace(t))}}function h(e,a,t){var i=null,i=new RegExp("application/json","i").test(e.getResponseHeader("content-type"))?s.parseJSON(e.responseText):{Message:e.status+" - "+a+": "+t,MessageType:r.messageTypes.Danger,Title:r.language.error};r.checkAjaxMessage(i,a,e),r.hidePleaseWait()}function v(e,a,i,t){function o(e,a,t){r.checkAjaxMessage(e)||"function"==typeof i&&i(e,a,t)}return"function"!=typeof t&&(t=h),e=e+(-1===e.indexOf("?")?"?":"&")+"__="+Number(new Date),(a?s.ajax({url:e,type:"GET",contentType:"application/json",data:JSON.stringify(a),cache:!1}):s.getJSON(e)).done(o).fail(t)}function T(e,a,i,t){function o(e,a,t){r.checkAjaxMessage(e)||"function"==typeof i&&i(e,a,t)}return void 0===t&&(t=h),e=e+(-1===e.indexOf("?")?"?":"&")+"__="+Number(new Date),(a?s.ajax({url:e,type:"POST",contentType:"application/json",data:JSON.stringify(a),cache:!1}):s.ajax({url:e,type:"POST",contentType:"application/json",cache:!1})).done(o).fail(t)}function x(t,i){var o=null;return function(){var e=this,a=arguments;clearTimeout(o),o=setTimeout(function(){t.apply(e,a)},i)}}function k(e,a){var t,i=[],o="",i=s("input:not([type=radio])",a).val("");for(t in i=s("select",a).val(""),i=s("textarea",a).val(""),i=s("input[type=checkbox]",a).val("1").prop("checked",!1),e)(i=(i=(i=s("input[name="+t+"]",a))[0]?i:s("select[name="+t+"]",a))[0]?i:s("textarea[name="+t+"]",a))[0]&&("checkbox"==i.prop("type")?(i.prop("checked",e[t]),i.data("origValue",i.val())):"radio"==i.prop("type")?(o=e[t]?e[t].toString():"",i.each(function(e,a){a=s(a);a.prop("checked",a.val()==o)})):(o=e[t]?e[t].toString():"",i.val(o.trim()),i.data("origValue",i.val())))}function M(e){s(e).each(function(e,a){try{var t=s(a).prop("id");s("#"+t).DataTable().draw(r.redrawDataTableType)}catch(e){}})}return s=s||window.jQuery,r.fireCallback=r.fireCallback||function(e){"function"==typeof e&&e()},a=e=function(){var e=t.libPaths||{},a=(r.get=v,r.post=T,r.checkAjaxMessage=w,r.showPleaseWait=b,r.hidePleaseWait=m,_$pleaseWaitDiv=s('<div class="modal fade jlwPleaseWait" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog"><div class="modal-dialog modal-dialog-centered" role="document"><div class="modal-content"><div class="modal-body"><div class="text-center"><button type="button" class="btn-close float-end" data-bs-dismiss="modal" aria-label="Close"></button><div class="h4"><span></span><div class="progress"><div class="progress-bar progress-bar-striped progress-bar-info progress-bar-animated" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 100%"></div></div></div></div></div></div></div></div>'),r.pleaseWaitDiv=_$pleaseWaitDiv,r.language={pleaseWait:"Processing...",notAuthorizedTitle:"Not Logged In",notAuthorized:"Either you have not completely logged in or your session has expired. Please log in and try again.",error:"An error has occurred"},r.debounce=r.debounce||x,r.populateFormData=r.populateFormData||k,r.setModalOnTop=r.setModalOnTop||f,r.serializeFormToJson=r.serializeFormToJson||p,r.messageTypes=r.messageTypes||n,r.formatDateString=r.formatDateString||d,r.zeroPad=r.zeroPad||c,r.redrawDataTableType=r.redrawDataTableType||"full-hold",r.redrawDataTable=r.redrawDataTable||M,r.showNotification=r.showNotification||y,r.lazyLoadLibrary=r.lazyLoadLibrary||l,r.getHighestZIndex=r.getHighestZIndex||g,r.serializeMultipleFieldCallback=r.serializeMultipleFieldCallback||u,window.bootstrap&&window.bootstrap.modal);r.promiseInitBootstrap=r.lazyLoadLibrary(a,e.Bootstrap),r.promiseInitFontAwesome=r.lazyLoadLibrary(window.FontAwesome,e.FontAwesome),r.promiseInitBootstrap=r.lazyLoadLibrary(window.bootbox,e.Bootbox),r.promiseInitToastr=r.lazyLoadLibrary(window.toastr,e.Toastr),r.fireCallback(r.init),r.fireCallback(t.fnInit)},e=t.libPaths||{},void 0===s&&e.jQuery?(i=document.getElementsByTagName("head")[0],(o=document.createElement("script")).type="text/javascript",o.src=e.jQuery,o.onload=function(){r.promiseInitJquery=s.Deferred().resolve(),r.fireCallback(a)},i.appendChild(o)):(void 0!==s&&(r.promiseInitJquery=s.Deferred().resolve()),r.fireCallback(a)),r}
